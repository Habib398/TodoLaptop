<!--
    DASHBOARD PRINCIPAL DEL SISTEMA
    
    Panel de control principal después del inicio de sesión.
    
    PROPÓSITO:
    - Página de inicio del sistema después de la autenticación
    - Navegación centralizada a todos los módulos
    - Menú diferenciado por rol (admin ve más opciones)
    
    MÓDULOS DISPONIBLES:
    - Inventario: Gestión de productos (todos los roles)
    - Ventas: Registro de ventas (todos los roles)
    - Servicios: Control de reparaciones y mantenimientos (todos los roles)
    - Usuarios: Gestión de usuarios (solo administradores)
    
    CONTROL DE ACCESO POR ROL:
    - Admin (rol='admin'): Acceso completo a todos los módulos
    - Técnico (rol='tecnico'): Solo inventario, ventas y servicios
-->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Panel Principal - Sistema PDV</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Bootstrap CSS y Icons desde CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    
    <!-- CSS personalizado -->
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
    
    <!-- ========== BARRA DE NAVEGACIÓN ========== -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow">
        <div class="container-fluid">
            <!-- Logo de la empresa -->
            <a class="navbar-brand fw-bold" href="#">
                <img src="https://res.cloudinary.com/dt8ulsehy/image/upload/PNG__FTransparente_CH_cxwjlv" alt="Logo" width="80">
            </a>
            
            <!-- Botón hamburguesa para móviles -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#menu">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Menú de navegación -->
            <div class="collapse navbar-collapse" id="menu">
                <ul class="navbar-nav ms-auto">
                    <!-- Enlace al Dashboard (página actual) -->
                    <li class="nav-item"><a class="nav-link active" href="#">Inicio</a></li>
                    
                    <!-- Enlace a Inventario -->
                    <li class="nav-item"><a class="nav-link" href="{% url 'inventario' %}">Inventario</a></li>
                    
                    <!-- Enlace a Ventas -->
                    <li class="nav-item"><a class="nav-link" href="#">Ventas</a></li>
                    
                    <!-- Enlace a Servicios -->
                    <li class="nav-item"><a class="nav-link" href="{% url 'servicios' %}">Servicios</a></li>
                    
                    <!-- Enlace a Usuarios (solo visible para administradores) -->
                    {% if user.rol == 'admin' %}
                    <li class="nav-item"><a class="nav-link" href="{% url 'listar_usuarios' %}">Usuarios</a></li>
                    {% endif %}
                    
                    <!-- Botón de cerrar sesión (destacado en amarillo) -->
                    <li class="nav-item"><a class="nav-link text-warning fw-bold" href="{% url 'logout' %}">Salir</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- ========== CONTENIDO PRINCIPAL ========== -->
    <div class="container my-5">
        <!-- Mensaje de bienvenida con el nombre del usuario autenticado -->
        <div class="text-center mb-4 bienvenida">
            <h2 class="fw-bold">Bienvenido, {{ user.username }}</h2>
            <p>Selecciona una opción para comenzar</p>
        </div>

        <!-- Grid de tarjetas de módulos -->
        <div class="row g-4 justify-content-center text-center">
            
            <!-- ========== MÓDULO: INVENTARIO ========== -->
            <div class="col-md-3">
                <div class="card shadow-sm h-100 border-0 text-center">
                    <div class="card-body">
                        <!-- Imagen del módulo desde Cloudinary -->
                        <img src="https://res.cloudinary.com/dt8ulsehy/image/upload/vecteezy_online-shopping-objects-package-checking-illustration-3d_14058996_udipxm" 
                             alt="Logo-inventario" width="120" class="mb-3">
                        
                        <h5 class="card-title">Inventario</h5>
                        <p class="card-text text-muted">Gestiona los artículos disponibles en el sistema.</p>
                        
                        <!-- Botón de acceso al módulo -->
                        <a href="{% url 'inventario' %}" class="btn btn-outline-primary w-100">Ir a Inventario</a>
                    </div>
                </div>
            </div>

            <!-- ========== MÓDULO: VENTAS ========== -->
            <div class="col-md-3">
                <div class="card shadow-sm h-100 border-0 text-center">
                    <div class="card-body">
                        <!-- Imagen del módulo desde Cloudinary -->
                        <img src="https://res.cloudinary.com/dt8ulsehy/image/upload/313115_ncoi0c" 
                             alt="Logo-ventas" width="120" class="mb-3">
                        
                        <h5 class="card-title">Ventas</h5>
                        <p class="card-text text-muted">Registra y administra las ventas realizadas.</p>
                        
                        <!-- Botón de acceso al módulo -->
                        <a href="{% url 'ventas' %}" class="btn btn-outline-success w-100">Ir a Ventas</a>
                    </div>
                </div>
            </div>

            <!-- ========== MÓDULO: SERVICIOS ========== -->
            <div class="col-md-3">
                <div class="card shadow-sm h-100 border-0 text-center">
                    <div class="card-body">
                        <!-- Imagen del módulo desde Cloudinary -->
                        <img src="https://res.cloudinary.com/dt8ulsehy/image/upload/9727444_q4mmuv" 
                             alt="Logo-servicios" width="120" class="mb-3">
                        
                        <h5 class="card-title">Servicios</h5>
                        <p class="card-text text-muted">Control de mantenimientos y reparaciones.</p>
                        
                        <!-- Botón de acceso al módulo -->
                        <a href="{% url 'servicios' %}" class="btn btn-outline-warning w-100">Ir a Servicios</a>
                    </div>
                </div>
            </div>

            <!-- ========== MÓDULO: USUARIOS (SOLO ADMINISTRADORES) ========== -->
            {% if user.rol == 'admin' %}
            <div class="col-md-3">
                <div class="card shadow-sm h-100 border-0 text-center">
                    <div class="card-body">
                        <!-- Imagen del módulo desde Cloudinary -->
                        <img src="https://res.cloudinary.com/dt8ulsehy/image/upload/user-297330_1280_nbc7gb" 
                             alt="Logo-usuarios" width="120" class="mb-3">
                        
                        <h5 class="card-title">Usuarios</h5>
                        <p class="card-text text-muted">Administra los usuarios del sistema.</p>
                        
                        <!-- Botón de acceso al módulo (solo visible para admins) -->
                        <a href="{% url 'listar_usuarios' %}" class="btn btn-outline-danger w-100">Gestionar Usuarios</a>
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
    
    <!-- Bootstrap JavaScript desde CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
